import { PointerEvent } from "react";
import { twMerge } from "tailwind-merge";

import { Camera } from "@/types/canvas";
import { clsx, type ClassValue } from "clsx";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

const COLORS = [
  "#00ffff",
  "#0000ff",
  "#8a2be2",
  "#a52a2a",
  "#deb887",
  "#5f9ea0",
  "#7fff00",
  "#d2691e",
  "#ff7f50",
  "#6495ed",
  "#dc143c",
  "#00ffff",
  "#00008b",
  "#008b8b",
  "#b8860b",
  "#a9a9a9",
  "#006400",
  "#bdb76b",
  "#8b008b",
  "#556b2f",
  "#ff8c00",
  "#9932cc",
  "#8b0000",
  "#e9967a",
  "#8fbc8f",
  "#483d8b",
  "#2f4f4f",
  "#00ced1",
  "#9400d3",
  "#ff1493",
  "#00bfff",
  "#696969",
  "#1e90ff",
  "#b22222",
  "#228b22",
  "#ff00ff",
  "#ffd700",
  "#daa520",
  "#808080",
  "#008000",
  "#adff2f",
  "#ff69b4",
  "#cd5c5c",
  "#4b0082",
  "#f0e68c",
  "#7cfc00",
  "#f08080",
  "#90ee90",
  "#ffb6c1",
  "#ffa07a",
  "#20b2aa",
  "#87cefa",
  "#778899",
  "#00ff00",
  "#32cd32",
  "#ff00ff",
  "#800000",
  "#66cdaa",
  "#0000cd",
  "#ba55d3",
  "#9370d8",
  "#3cb371",
  "#7b68ee",
  "#00fa9a",
  "#48d1cc",
  "#c71585",
  "#191970",
  "#ffdead",
  "#000080",
  "#6b8e23",
  "#ffa500",
  "#ff4500",
  "#da70d6",
  "#98fb98",
  "#d87093",
  "#cd853f",
  "#ffc0cb",
  "#dda0dd",
  "#800080",
  "#ff0000",
  "#bc8f8f",
  "#4169e1",
  "#8b4513",
  "#fa8072",
  "#f4a460",
  "#2e8b57",
  "#a0522d",
  "#c0c0c0",
  "#87ceeb",
  "#6a5acd",
  "#708090",
  "#00ff7f",
  "#4682b4",
  "#d2b48c",
  "#008080",
  "#d8bfd8",
  "#ff6347",
  "#40e0d0",
  "#ee82ee",
  "#ffff00",
  "#9acd32",
  "#2f4f4f",
  "#808080",
  "#778899",
];

export function connectionIdToColor(connectionId: number) {
  return COLORS[connectionId % COLORS.length];
}

export function pointerEventToCanvasPoint(e: PointerEvent, camera: Camera) {
  return {
    x: Math.round(e.clientX) - camera.x,
    y: Math.round(e.clientY) - camera.y,
  };
}
